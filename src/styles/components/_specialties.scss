
@use '../variables' as *;

.specialties {
  /* ====== Keep your static grid styles (if you use them elsewhere) ====== */
  &__grid {
    display: grid;
    gap: 1.5rem;
    margin-top: 2rem;

    @media (min-width: 768px) { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    @media (min-width: 1024px) { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  }

  &__card {
    position: relative;
    border-radius: 1rem;
    overflow: hidden;
    box-shadow: $shadow-soft;
    transform: translateY(0);
    transition: transform $transition-fast, box-shadow $transition-fast;

    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 45px rgba(15, 23, 42, 0.25);

      .specialties__image-wrapper img { transform: scale(1.08); }
    }
  }

  &__image-wrapper {
    position: relative;
    height: 16rem;
    overflow: hidden;

    img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;  /* ✅ ensures image fills the card */
      transform: scale(1);
      transition: transform 0.5s ease-out;
      display: block;     /* ✅ avoid inline gaps */
    }
  }

  &__image-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(76, 29, 149, 0.85), transparent);
  }

  &__content {
    position: absolute;
    inset-inline: 0;
    bottom: 0;
    padding: 1.5rem;
    color: $white;

    h3 { font-size: 1.2rem; margin-bottom: 0.3rem; text-wrap: auto; }
    p  { font-size: 0.9rem; opacity: 0.9; text-wrap: auto; }
  }

  .section-title {
    p {
      color: $muted-text !important;
      opacity: 1;  
    }
  }

  &__marquee {
    position: relative;
    overflow: hidden;
    margin-top: 1rem;
    background: $bg-light;
    border-radius: 1rem;
    box-shadow: $shadow-soft;
    user-select: none;
  }

  &__track {
    display: inline-flex;
    gap: 1rem;
    white-space: nowrap;
    border-radius: 1rem;
    animation: specialties-marquee 30s linear infinite;

    .specialties__card {
      width: clamp(240px, 26vw, 320px);
      flex: 0 0 auto;
    }
  }

  @keyframes specialties-marquee {
    0%   { transform: translateX(0%); }
    100% { transform: translateX(-50%); }
  }

  /* Hover pauses (desktop only) */
  &__marquee:hover &__track { animation-play-state: paused; }

  /* Respect reduced-motion */
  @media (prefers-reduced-motion: reduce) {
    &__track { animation: none; transform: none; }
  }

  /* Mobile tuning */
  @media (max-width: 480px) {
    &__track {
      gap: 0.75rem;
      padding: 0.5rem 0.5rem;
      .specialties__card { width: clamp(220px, 70vw, 280px); }
    }
    &__marquee {
      height: calc(16rem + 1rem);
    }
  }
}
